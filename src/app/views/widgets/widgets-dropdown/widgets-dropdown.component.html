<c-row class="g-4">
  <!-- Card 1: Alumnos Activos -->
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      color="primary"
      [title]="'Alumnos Activos'"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span *ngIf="isLoading">Cargando...</span>
        <span *ngIf="hasError">Sin Datos...</span>
        <span *ngIf="!isLoading && !hasError && alumnosData.total !== null">
          {{ alumnosData.total }}
          <span class="fw-normal" style="font-size: 12px;" *ngIf="alumnosData.percentage !== null">
            ({{ alumnosData.percentage >= 0 ? '+' : '' }}{{ alumnosData.percentage }}% 
            <svg cIcon [name]="alumnosData.trend === 'up' ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
          </span>
        </span>
        <span *ngIf="!isLoading && !hasError && alumnosData.total === null">Sin datos</span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Opciones">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="['/alumno']" cDropdownItem>Ver Alumnos</a></li>
            <li><a [routerLink]="['/alumno/crear']" cDropdownItem>Agregar Alumno</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[0]" [options]="options[0]" class="mt-3 mx-3" height="70" [type]="'line'" />
      </ng-template>
    </c-widget-stat-a>
  </c-col>

  <!-- Card 2: Cuotas Pendientes -->
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Cuotas Pendientes'"
      color="info"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span *ngIf="isLoading">Cargando...</span>
        <span *ngIf="hasError">Sin Datos...</span>
        <span *ngIf="!isLoading && !hasError && cuotasData.pendientes !== null">
          {{ cuotasData.pendientes }}
          <span class="fw-normal" style="font-size: 12px;" *ngIf="cuotasData.percentage !== null">
            ({{ cuotasData.percentage }}% pagadas <svg cIcon [name]="cuotasData.trend === 'up' ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
          </span>
        </span>
        <span *ngIf="!isLoading && !hasError && cuotasData.pendientes === null">Sin datos</span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Opciones">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="['/cuota']" cDropdownItem>Ver Cuotas</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[1]" [options]="options[1]" class="mt-3 mx-3" height="70" type="line" />
      </ng-template>
    </c-widget-stat-a>
  </c-col>

  <!-- Card 3: Próximos Torneos -->
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Próximos Torneos'"
      color="warning"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span *ngIf="isLoading">Cargando...</span>
        <span *ngIf="hasError">Sin Datos...</span>
        <span *ngIf="!isLoading && !hasError && torneosData.proximos !== null">
          {{ torneosData.proximos }}
          <span class="fw-normal" style="font-size: 12px;">
            próximos eventos
          </span>
        </span>
        <span *ngIf="!isLoading && !hasError && torneosData.proximos === null">Sin datos</span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Opciones">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="['/torneos']" cDropdownItem>Ver Torneos</a></li>
            <li><a [routerLink]="['/torneo-form/0']" cDropdownItem>Crear Torneo</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[2]" [options]="options[2]" class="mt-3" height="70" type="line" />
      </ng-template>
    </c-widget-stat-a>
  </c-col>

  <!-- Card 4: Profesores Activos -->
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Profesores Activos'"
      color="danger"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span *ngIf="isLoading">Cargando...</span>
        <span *ngIf="hasError">Sin Datos...</span>
        <span *ngIf="!isLoading && !hasError && profesoresData.activos !== null">
          {{ profesoresData.activos }}
          <span class="fw-normal" style="font-size: 12px;" *ngIf="profesoresData.percentage !== null">
            ({{ profesoresData.percentage >= 0 ? '+' : '' }}{{ profesoresData.percentage }}% 
            <svg cIcon [name]="profesoresData.trend === 'up' ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
          </span>
        </span>
        <span *ngIf="!isLoading && !hasError && profesoresData.activos === null">Sin datos</span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Opciones">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="['/profesor/lista']" cDropdownItem>Ver Profesores</a></li>
            <li><a [routerLink]="['/profesor']" cDropdownItem>Agregar Profesor</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[3]" [options]="options[3]" class="mt-3 mx-3" height="70" type="bar" />
      </ng-template>
    </c-widget-stat-a>
  </c-col>
</c-row>
